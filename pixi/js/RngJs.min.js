/*! RngJs - v0.1.0 - 2014-03-13
* Copyright (c) 2014 Kang Ming; Licensed  */
!function () { function r(n, t) { function u(n) { i.k1 || i.gotoAndStop(n) } var i = this; PIXI.MovieClip.call(i, n); i.interactive = !0; i.buttonMode = !0; i.k1 = !1; i.click = function (n) { f.t0 || (t && u(0 == i.currentFrame ? 1 : 0), i.onclick && i.onclick(n), $(i).triggerHandler(r.y0, n)) }; i.mouseup = function (n) { f.t0 || (t || u(1), i.onmouseup && i.onmouseup(n), $(i).triggerHandler(r.z0, n)) }; i.mousedown = function (n) { f.t0 || (t || u(0), i.onmousedown && i.onmousedown(n), $(i).triggerHandler(r.a1, n)) }; i.mousemove = function (n) { f.t0 || (i.onmousemove && i.onmousemove(n), $(i).triggerHandler(r.b1, n)) }; i.mouseover = function (n) { f.t0 || (t || i.__isDown || u(1), i.onmouseover && i.onmouseover(n), $(i).triggerHandler(r.c1, n)) }; i.mouseout = function (n) { f.t0 || (t || u(0), i.onmouseout && i.onmouseout(n), $(i).triggerHandler(r.d1, n)) }; i.mouseupoutside = function (n) { f.t0 || (i.onmouseupoutside && i.onmouseupoutside(n), $(i).triggerHandler(r.e1, n)) }; i.tap = function (n) { t && u(0 == i.currentFrame ? 1 : 0); i.onTap && i.onTap(n); $(i).triggerHandler(r.f1, n) }; i.touchstart = function (n) { t || u(1); $(i).triggerHandler(r.g1, n) }; i.touchend = function (n) { t || u(0); $(i).triggerHandler(r.h1, n) }; i.touchmove = function (n) { $(i).triggerHandler(r.i1, n) }; i.touchendoutside = function (n) { t || u(0); $(i).triggerHandler(r.j1, n) } } function w() { function dt() { yt(); $(r).unbind(n.r1); v.o1(v.m1(lt), gt) } function gt(n) { console.log(n); 0 == n.Code && (l = n.Content, kt = l.U, d = l.Credit); yt() } function rt() { if (!r.s1) { if (r.t1(!1), di(), ht(), bt(), it) return void ct(); if (b() && !ot) return ot = !0, void pt(); w = !1; r.u1(0); r.v1(b()); b() ? (gi(), ci(), a--, r.x1(5, a)) : (hi(), v.o1(v.n1(e.w1, kt, u, o), oi)) } } function ni() { p = !p; p ? rt() : r.s1 || (w = !0) } function ti(n, t) { if (w) { var i = function () { u += t; 1 > u && (u = 1); u > at && (u = at); ut(); r.u1(u) }; i(); y.y1(i) } } function ii(n, t) { if (w) { var i = function () { o += t; 1 > o && (o = 1); o > vt && (o = vt); ut() }; i(); y.y1(i) } } function ri() { w && (u = at, o = vt, ut(), rt()) } function ui() { var n = l[0], t = n.Free > a; t && (r.z1 = !0, r.a2()); a = n.Free; nt || 0 != a || (it = !0); n.Win > 0 ? t ? (r.t1(!0), nt ? vi() : yi()) : wi(n.Win / (u * o)) : it && ct(); si() } function fi() { l.splice(0, 1); p || b() || (w = !0) } function ei() { if (p || b()) if (null != c) { var n = c.getDuration() - c.getPosition(); 2e3 > n && (n = 2e3); k(st, n) } else k(st, 2e3); else w = !0 } function st() { (p || b()) && rt() } function oi(n) { 0 == n.Code && (l = n.Content); r.b2(l[0]) } function ut() { r.x1(0, u); r.x1(1, o); r.x1(2, u * o) } function si() { var n = l[0]; r.x1(3, n.Win); d = n.Cr; r.x1(4, d); r.x1(5, a) } function hi() { d -= u * o; r.x1(4, d) } function b() { return a > 0 } function ci() { k(function () { r.b2(l[0]) }, 1e3) } function yt() { ut(); r.x1(3, 0); r.x1(4, d); r.x1(5, a) } function li() { y.c2() } function ai() { createjs.Sound.play(t.e2) } function vi() { ft(); createjs.Sound.play(t.f2) } function yi() { ft(); createjs.Sound.play(t.g2) } function pi(n, i) { switch (i) { case 0: createjs.Sound.play(t.h2); break; case 1: createjs.Sound.play(t.i2); break; case 2: createjs.Sound.play(t.j2) } } function wi(n) { wt(.03, !0); c = createjs.Sound.play(1 > n ? t.k2 : 5 > n ? t.l2 : 10 > n ? t.m2 : 20 > n ? t.n2 : t.o2); it ? k(ct, c.getDuration()) : k(ht, c.getDuration()) } function bi() { p && (ot = !0, pt()) } function pt() { tt || (tt = !0, r.p2(!0), ft(), null == g && (g = createjs.Sound.createInstance(t.q2)), g.play(), k(ki, g.getDuration())) } function ki() { tt = !1; st() } function di() { tt && (g.stop(), tt = !1) } function gi() { nt && (nt = !1, null == h && (h = createjs.Sound.createInstance(t.r2)), h.play(void 0, void 0, void 0, -1, .3)) } function ft() { nt = !0; null != h && h.stop() } function ht() { null != c && (c.stop(), c = null, null != h && wt(.3)) } function wt(n, t) { null != h && (t ? h.setVolume(n) : TweenLite.to(h, 2, { volume: n, ease: Linear.easeNone })) } function ct() { ot = !1; r.p2(!1); it = !1; ft(); ht(); createjs.Sound.play(t.s2) } function k(n, t) { bt(); et = setTimeout(n, t) } function bt() { null != et && clearTimeout(et); et = null } function nr() { } function tr(n) { for (var i, u = $(n), r = u.find("Images").children(), t = 0, f = r.length; f > t; t++) i = $(r[t]), e.v2(i.context.tagName, i.text()); ir() } function ir() { i.f0(i.n0); i.f0(e.w2()); i.f0(s.o0); i.j0(e.x2()); i.l0("trajan_bold-webfont2.fnt"); $(i).bind(i.e0, rr); t.p0() } function rr() { $(i).unbind(i.e0); $(r).bind(n.r1, dt); $(r).bind(n.y2, rt); $(r).bind(n.z2, ni); $(r).bind(n.a3, ti); $(r).bind(n.b3, ii); $(r).bind(n.c3, ri); $(r).bind(n.d3, ui); $(r).bind(n.e3, fi); $(r).bind(n.z0, li); $(r).bind(n.e2, ai); $(r).bind(n.f3, pi); $(r).bind(n.g3, ei); $(r).bind(n.h3, bi); r.i3() } var h, c, g, kt, lt, l, et, at = 25, vt = 10, r = new n, nt = !0, tt = !1, u = 25, o = 1, a = 0, ot = !1, d = 0, p = !1, w = !0, it = !1; window.onkeydown = nr; this.u2 = function () { var n = f.x0(); void 0 != n.g && (e.w1 = n.g); lt = "test2"; void 0 != n.u && (lt = n.u); $.get("config/" + e.w1 + ".xml", tr) } } function l() { function v() { n.visible = !1 } function h(n) { u += n; 1 > u && (u = 1); u > t.length && (u = t.length); l.setTexture(t[u - 1]); o.visible = 1 == u ? !1 : !0; f.visible = u == t.length ? !1 : !0 } var n = this, a, c, t, r, u, l, s, f, o; PIXI.DisplayObjectContainer.call(n); a = 187; c = 800; n.position.x = 190; n.position.y = c; n.visible = !1; t = []; r = e.w4(); t.push(i.h0(r.q4)); t.push(i.h0(r.p4)); t.push(i.h0(r.r4)); t.push(i.h0(r.s4)); u = 1; l = new PIXI.Sprite(t[0]); n.addChild(l); s = i.i0(r.j4, r.k4); s.position.x = 230; s.position.y = 415; s.onclick = s.onTap = function () { n.x4(!1) }; n.addChild(s); f = i.i0(r.l4, r.m4); f.position.x = 483; f.position.y = 415; f.onclick = f.onTap = function () { h(1) }; n.addChild(f); o = i.i0(r.n4, r.o4); o.position.x = 32; o.position.y = 415; o.onclick = o.onTap = function () { h(-1) }; n.addChild(o); n.x4 = function (i) { i != n.visible && (n.visible ? TweenLite.to(n.position, .5, { y: c, onComplete: v }) : (TweenLite.to(n.position, .5, { y: a }), h(-t.length), n.visible = !0)) } } function u(n, t, i, r) { function c(n) { var t = a(); return (t.length + n) % t.length } function a() { return 1 == k ? b : it } function p() { var t, n, i; 3 != e ? (t = 2 == e ? Back.easeOut : Linear.easeNone, n = { y: f.position.y + u.z4, ease: t, onComplete: g }, 2 == e && (n.easeParams = [5], $(w).triggerHandler(u.b5)), i = (2 == e ? 8 : 1) * u.a5, TweenLite.to(f.position, i, n)) : $(w).triggerHandler(u.c5) } function g() { for (var n, i, r, t = 0, u = f.children.length; u > t; t++) n = f.children[t], n.k5++, i = n.k5, r = n.l5(), 1 == e && r == h && 2 == i ? e = 2 : 2 == e && r == h && 3 == i && (e = 3), 5 == i && (s = c(s - 1), nt(n)); tt(); p() } function nt(n) { var t, i, r; 0 == e && (t = c(s - 1), t == h && (e = 1)); i = a(); r = i[s] + (1 > e ? 15 : 0); n.m5(r, s) } function tt() { var i, n, t; for (f.position.y = rt, i = f.children.length, n = 0; i > n; n++) t = f.children[n], t.position.y += u.z4, 0 == t.k5 && (t.position.y = -2 * u.z4) } var w = this, b = n, it = t, rt = r, k = 1, s = Math.floor(100 * Math.random()), h = -1, e = -1, f, v, l, d, y; for (this.d5 = new PIXI.DisplayObjectContainer, f = this.d5, f.position.x = i, f.position.y = r, v = 2 * u.z4, l = 0; 5 > l; l++) s = c(s - 1), d = 5 - (l + 1), y = new o(b[s], s, d), y.position.y = v, f.addChild(y), v -= u.z4; this.e5 = function (n, t) { k = n ? 2 : 1; h = -1; e = -1; p(t) }; this.f5 = function (n) { s = c(n + 6); h = n; e = 0 }; this.g5 = function (n, t) { for (var r, u = -1 == t ? -1 : t + 2, i = 0, e = f.children.length; e > i; i++) r = f.children[i], r.g5(n, u) }; this.h5 = function () { for (var i, n = 0, t = f.children.length; t > n; n++) i = f.children[n], i.h5() }; this.i5 = function (n) { for (var i = a(), t = 0; 3 > t; t++) if (13 == i[n + 1 - t]) return !0; return !1 } } function o(n, t, r) { function a() { u.filters = null } var f, c; PIXI.DisplayObjectContainer.call(this); var l = this, h = e.a0().v4, s = n, u = new PIXI.MovieClip([o.o0[n]]); u.anchor.x = u.anchor.y = .5; u.position.x = u.position.y = u.textures[0].width / 2; u.animationSpeed = .5; this.addChild(u); f = new TimelineLite({ onComplete: a }); f.add(TweenLite.to(u.scale, .5, { x: 1.1, y: 1.1 }), 0); f.add(TweenLite.to(u.scale, 1 / 3, { x: 1, y: 1 }), .5); f.add(TweenLite.to(u.scale, 1 / 3, { x: 1.1, y: 1.1 }), 1 / 3 + .5); f.add(TweenLite.to(u.scale, .5, { x: 1, y: 1 }), 2 / 3 + .5); f.add(TweenLite.to(u, 1 / 3, { rotation: Math.PI / 36 }), .5); f.add(TweenLite.to(u, 1 / 3, { rotation: -Math.PI / 36 }), 1 / 3 + .5); f.add(TweenLite.to(u, .5, { rotation: 0 }), 2 / 3 + .5); f.stop(); this.k5 = r; c = t; this.l5 = function () { return c }; this.m5 = function (n, t) { s = n; u.textures = [o.o0[s]]; c = t; u.gotoAndStop(0); l.k5 = 0 }; this.g5 = function (n, t) { n && l.k5 == t ? null != h[s] ? (u.playing || (u.textures = i.k0(h[s])), u.gotoAndPlay(0)) : f.play(0) : null != h[s] && 13 != s ? (u.textures = [o.o0[s]], u.gotoAndStop(0)) : f.pause(0) }; this.h5 = function () { 13 == s && (u.textures = i.k0(h[s]), u.gotoAndPlay(0)) } } function d(n) { var u = this, i = n, r; i.preload = "auto"; i.load(); r = !1; this.n5 = function () { if (r) { if (void 0 !== i.duration && (i.currentTime >= i.duration || 0 == i.currentTime)) return void u.o5(); void 0 !== i.paused && i.paused && u.o5() } }; this.p5 = function (n) { n === !0 ? (r = n, t.q5(u)) : (r = !1, t.r5(u)); i.loop = r }; this.o5 = function () { i.play() }; this.c2 = function () { i.pause(); i.currentTime = 0 }; this.s5 = function () { i.pause() } } function t() { function u(n) { var t = "sound/" + n; return t += r ? ".wav" : ".mp3", new Audio(t) } var r = !0, i = !1, f = new Audio, n; "" != f.canPlayType("audio/mpeg") && (r = !1); n = {}; this.j3 = function () { var r, e, f; if (!i) for (r = 0, e = t.m3.length; e > r; r++) f = t.m3[r], n[f] = u(f) }; this.d2 = function (t, r) { if (!i) { var u = n[t]; u && (u.loop = r, u.play()) } }; this.t2 = function (t, r) { if (!i) { var u = n[t]; u && (u.volume = (u.volume + r).toFixed(1)) } }; this.v5 = function (t) { if (!i) { var r = n[t]; r && r.stop() } }; this.k3 = function (t, i) { var r = n[t]; r.addEventListener("ended", i) } } function n() { function rt() { return new PIXI.BitmapText("0", { font: "bold 20px TrajanPro", align: "center" }) } function vt() { var i; navigator.isCocoonJS ? i = Math.min(w / n.r0, b / n.y5) : (w = $(window).width(), b = $(window).height() - 5, i = Math.min(w / n.r0, b / n.y5), w > 1920 * i && (w = 1920 * i), b > 1080 * i && (b = 1080 * i), lt.resize(w, b)); t.scale.x = i; t.scale.y = i; t.position.x = (w - n.r0 * i) / 2; t.position.y = (b - n.y5 * i) / 2 } function kt() { h.begin(); ti(kt); lt.render(ut); h.end() } function ii() { var t = v.indexOf(this); ri(t) ? 0 == t && (pt = !0) : pt = !1; pt ? $(f).triggerHandler(n.f3, t) : $(f).triggerHandler(n.e2); t < v.length - 1 && (t++, v[t].f5(ht.Pos[t])) } function ri(n) { return v[n].i5(ht.Pos[n]) } function ui() { var t = v.indexOf(this); t == v.length - 1 && (f.s1 = !1, $(f).triggerHandler(n.d3), $(f).triggerHandler(n.e3), gt()) } function dt() { null != et && (d.children.indexOf(et) >= 0 && d.removeChild(et), et = null) } function gt() { dt(); nt.length > 0 && (et = at[nt[tt].line - 1], d.addChild(et), hi = nt[tt].count, ni(!0), tt++, ft = setTimeout(gt, 2e3)); tt == nt.length && (f.z1 ? (f.z1 = !1, clearTimeout(ft), ft = setTimeout(fi, 2e3)) : (tt = 0, bt || ($(f).triggerHandler(n.g3), bt = !0))) } function yt() { null != ft && (dt(), clearTimeout(ft), ft = null) } function fi() { $(f).triggerHandler(n.h3); yt(); f.a2() } function ei() { t.removeChild(st) } function ni(n) { if (n) for (var r = _0[nt[tt].line - 1], u = nt[tt].count, t = 0, i = v.length; i > t; t++) u > t ? v[t].g5(n, r[t]) : v[t].g5(!1, -1); else for (t = 0, i = v.length; i > t; t++) v[t].g5(n, -1) } eval(function (n, t, i, r, u, f) { if (u = function (n) { return n }, !"".replace(/^/, String)) { for (; i--;) f[i] = r[i] || i; r = [function (n) { return f[n] }]; u = function () { return "\\w+" }; i = 1 } for (; i--;) r[i] && (n = n.replace(new RegExp("\\b" + u(i) + "\\b", "g"), r[i])); return n }("3 4=[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[0,0,1,2,2],[2,2,1,0,0],[1,2,2,2,1],[1,0,0,0,1],[0,1,1,1,0],[2,1,1,1,2],[0,1,0,1,0],[2,1,2,1,2],[1,0,1,0,1],[1,2,1,2,1],[1,1,0,1,1],[1,1,2,1,1],[0,2,0,2,0],[2,0,2,0,2],[0,0,1,0,0],[2,2,1,2,2],[0,2,2,2,0],[2,0,0,0,2],[1,0,2,0,1],[1,2,0,2,1]];", 5, 5, "|||var|_0".split("|"), 0, {})); eval(function (n, t, i, r, u, f) { if (u = function (n) { return n.toString(36) }, !"".replace(/^/, String)) { for (; i--;) f[i.toString(t)] = r[i] || i.toString(t); r = [function (n) { return f[n] }]; u = function () { return "\\w+" }; i = 1 } for (; i--;) r[i] && (n = n.replace(new RegExp("\\b" + u(i) + "\\b", "g"), r[i])); return n }("f h=[[3,c,4,7,1,c,4,8,2,9,5,d,1,7,4,b,7,1,e,2,8,0,7,1,d,5,8,6],[e,6,1,8,3,0,9,1,d,0,9,5,c,6,d,4,9,6,b,3,4,a,9,6,0,7,4,9,2,e,a,2],[8,1,c,5,8,3,b,0,d,4,c,b,5,9,3,a,9,3,e,d,b,1,7,8,6,b,a,6,b,2],[1,8,2,a,8,2,5,7,e,5,6,c,7,5,d,4,7,b,5,7,3,5,b,0,a,b,0,7,9,5],[b,6,7,d,3,9,a,3,9,1,e,5,8,7,3,a,7,3,b,4,c,a,4,c,e,0,c,7,2,d]];f g=[[3,c,4,7,1,c,4,8,e,2,9,5,d,1,4,b,7,1,e,2,c,8,0,7,1,d,5,8,6],[e,1,8,3,0,9,1,d,0,9,5,c,6,d,9,6,a,b,3,d,c,4,a,9,6,a,0,7,c,4,9,2,e,a,2],[8,1,c,5,8,3,b,0,d,4,c,a,b,5,9,3,a,9,3,e,d,b,1,7,a,8,6,c,b,a,6,b,2],[1,8,2,a,8,2,7,e,5,6,c,a,7,5,d,4,7,a,b,5,7,3,c,5,b,0,a,b,0,7,9,5],[b,6,7,d,3,9,a,3,9,1,e,5,8,7,3,a,7,3,a,b,4,c,a,4,c,e,0,c,7,2,d]];", 18, 18, "||||||||||14|10|12|13|11|var|_2|_1".split("|"), 0, {})); eval(function (n, t, i, r, u, f) { if (u = function (n) { return n.toString(36) }, !"".replace(/^/, String)) { for (; i--;) f[i.toString(t)] = r[i] || i.toString(t); r = [function (n) { return f[n] }]; u = function () { return "\\w+" }; i = 1 } for (; i--;) r[i] && (n = n.replace(new RegExp("\\b" + u(i) + "\\b", "g"), r[i])); return n }('b 7=["8","9","c","j","q","k","a","d","e","6","5","1","0","2","g","4","f","h","v","t","r","u","s","o","i","p","l","m","n","3"];', 32, 32, "wall|fan|coin|dragon_blur|8_blur|drum|cloud|_3||||var|10|scroll|wine|9_blur|dragon|10_blur|cloud_blur|||fan_blur|wall_blur|coin_blur|wine_blur|drum_blur||k_blur|scroll_blur|q_blur|a_blur|j_blur".split("|"), 0, {})); var ti = function () { return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (n) { window.setTimeout(n, 1e3 / 60) } }(), f = this, w, b, oi, si, t, ut, lt, it, st, v, ht, ft, nt, tt, et, hi, at = [], d, ot, ct, y = [], pt = !1, wt, g, bt = !1, a = e.w4(); this.s1 = !1; this.z1 = !1; this.a2 = function () { for (var n = 0, t = v.length; t > n; n++) v[n].h5() }; this.p2 = function (n) { n ? (t.addChildAt(st, t.children.indexOf(it)), c.p1(it), c.p1(s.s0[0]), c.p1(s.s0[1])) : (c.q1(it, ei), c.q1(s.s0[0]), c.q1(s.s0[1])) }; this.i3 = function () { var ai, hi, e, vi, et, ci, pt, yi, h, c, p, ht, k, nt, tt, ft, yt, bt, li, dt, gt, ni, ri, fi, ei; for (t = new PIXI.DisplayObjectContainer, ut = new PIXI.Stage(0, !0), ut.mouseup = ut.mouseupoutside = ut.tap = function () { $(f).triggerHandler(n.z0) }, ut.addChild(t), navigator.isCocoonJS ? (w = window.devicePixelRatio * window.innerWidth, b = window.devicePixelRatio * window.innerHeight) : (oi = w = $(window).width(), si = b = $(window).height() - 5), lt = PIXI.autoDetectRenderer(w, b), $("body").append(lt.view), it = new PIXI.Sprite(i.h0(a.p3)), it.position.x = -448, it.position.y = -156, t.addChild(it), st = new PIXI.Sprite(i.h0(a.q3)), st.position.x = -448, st.position.y = -156, s.p0(), t.addChild(s.s0[0]), ai = new PIXI.Sprite(i.h0(a.r3)), t.addChild(ai), hi = new PIXI.Sprite(i.h0(a.b4)), hi.position.x = 115, hi.position.y = 175, t.addChild(hi), d = new PIXI.DisplayObjectContainer, t.addChild(d), e = 0, vi = i.n0.length; vi > e; e++) o.o0.push(i.h0(i.n0[e])); for (et = new PIXI.Graphics, et.beginFill(), et.drawRect(137, 174, 750, 460), et.endFill(), t.addChild(et), ci = new PIXI.DisplayObjectContainer, ci.mask = et, t.addChild(ci), v = [], e = 0; 5 > e; e++) pt = new u(_1[e], _2[e], n.z5 + e * u.y4, n.a6), ci.addChild(pt.d5), $(pt).bind(u.b5, ii), $(pt).bind(u.c5, ui), v.push(pt); for (yi = new PIXI.Sprite(i.h0(a.a4)), t.addChild(yi), t.addChild(s.s0[1]), g = new r([i.h0(a.s3), i.h0(a.t3)]), g.position.x = 779, g.position.y = 653, g.interactive = !0, g.buttonMode = !0, g.onclick = g.onTap = function () { $(f).triggerHandler(n.y2) }, t.addChild(g), h = new r([i.h0(a.u3), i.h0(a.v3)]), h.position.x = 676, h.position.y = 653, h.interactive = !0, h.buttonMode = !0, h.onclick = h.onTap = function () { $(f).triggerHandler(n.c3) }, t.addChild(h), c = new r([i.h0(a.w3), i.h0(a.x3)], !0), c.interactive = !0, c.buttonMode = !0, c.position.x = 777, c.position.y = 709, c.onclick = c.onTap = function () { $(f).triggerHandler(n.z2) }, t.addChild(c), p = new r([i.h0(a.y3), i.h0(a.z3)]), p.position.x = 676, p.position.y = 709, p.interactive = !0, p.buttonMode = !0, p.onclick = p.onTap = function () { wt.x4(!0) }, t.addChild(p), ht = [i.h0(a.c4), i.h0(a.d4)], k = new r(ht), k.position.x = 142, k.position.y = 681, k.interactive = !0, k.buttonMode = !0, $(k).bind(r.a1, function () { $(f).triggerHandler(n.a3, -1) }), $(k).bind(r.g1, function () { $(f).triggerHandler(n.a3, -1) }), t.addChild(k), nt = new r(ht), nt.position.x = 247, nt.position.y = 681, nt.interactive = !0, nt.buttonMode = !0, $(nt).bind(r.a1, function () { $(f).triggerHandler(n.b3, -1) }), $(nt).bind(r.g1, function () { $(f).triggerHandler(n.b3, -1) }), t.addChild(nt), ht = [i.h0(a.e4), i.h0(a.f4)], tt = new r(ht), tt.position.x = 212, tt.position.y = 681, tt.interactive = !0, tt.buttonMode = !0, $(tt).bind(r.a1, function () { $(f).triggerHandler(n.a3, 1) }), $(tt).bind(r.g1, function () { $(f).triggerHandler(n.a3, 1) }), t.addChild(tt), ft = new r(ht), ft.position.x = 317, ft.position.y = 681, ft.interactive = !0, ft.buttonMode = !0, $(ft).bind(r.a1, function () { $(f).triggerHandler(n.b3, 1) }), $(ft).bind(r.g1, function () { $(f).triggerHandler(n.b3, 1) }), t.addChild(ft), yt = 0; 25 > yt; yt++) bt = (yt + 1).toString(), bt.length < 2 && (bt = "0" + bt), li = new PIXI.Sprite(i.h0("line_" + bt + ".png")), li.position.x = n.b6[yt][0], li.position.y = n.b6[yt][1], at.push(li); ot = new PIXI.Sprite(i.h0(a.g4)); ot.position.x = 117; ot.position.y = 648; t.addChild(ot); ct = new PIXI.MovieClip([i.h0(a.h4), i.h0(a.i4)]); t.addChild(ct); dt = rt(); dt.position.x = 138; dt.position.y = 688; t.addChild(dt); y.push(dt); gt = rt(); gt.position.x = 242; gt.position.y = 688; t.addChild(gt); y.push(gt); ni = rt(); ni.position.x = 342; ni.position.y = 688; t.addChild(ni); y.push(ni); ri = rt(); ri.position.x = 442; ri.position.y = 688; t.addChild(ri); y.push(ri); fi = rt(); fi.position.x = 552; fi.position.y = 688; t.addChild(fi); y.push(fi); ei = rt(); ei.position.x = 190; ei.position.y = 657; t.addChild(ei); y.push(ei); wt = new l; t.addChild(wt); $(window).resize(vt); window.onorientationchange = vt; vt(); ti(kt); $(f).triggerHandler(n.r1) }; this.t1 = function (n) { k.l1(g, n) }; this.v1 = function (n) { if (!f.s1) { bt = !1; f.s1 = !0; ni(!1); yt(); for (var i = v.length, t = 0; i > t; t++) v[t].e5(n, .15 * t) } }; this.b2 = function (n) { var t, i; ht = n; nt = []; tt = 0; t = ht.Lines; for (i in t) nt.push({ line: parseInt(i), count: parseInt(t[i][0]), win: parseInt(t[i][1]) }); v[0].f5(ht.Pos[0]) }; this.x1 = function (t, i) { var f = y[t].text, r, u; (y[t].setText(i + "\n                         "), 0 == t) ? (r = "1" == i ? 0 : 1, u = n.c6[r], ct.position.x = u[0], ct.position.y = u[1], ct.gotoAndStop(r)) : 5 == t && (0 == i ? (ot.visible = !1, y[5].visible = !1) : (ot.visible = !0, y[5].visible = !0)); switch (t) { case 3: y[t].text > 0 && p.w5(y[t]); break; case 4: case 5: f != y[t].text && p.w5(y[t]) } }; this.u1 = function (n) { var t, r, i; for (yt(), t = 0, r = at.length; r > t; t++) i = at[t], d.children.indexOf(i) >= 0 && t + 1 > n && d.removeChild(i), d.children.indexOf(i) < 0 && n >= t + 1 && d.addChild(i) } } var i = function () { function t(n) { return "img/" + e.a0().b0 + n } function l(n) { return "font/" + n } function a() { h++; f.c0("Image", h / u.length * 100) } function v() { u = null; for (var t = 0, i = n.length; i > t; t++) n[t].load() } function y(t) { o++; f.c0("MovieClip", o / n.length * 100); var i = t.content; c[i.url] = i.json; o == n.length && (n = null, f.d0(), $(s).triggerHandler(s.e0)) } var u = [], h = 0, n = [], o = 0, c = {}, s = { e0: "a", f0: function (n) { var i, r, f; for ("[object Array]" === Object.prototype.toString.call(n) ? i = n : (i = [], i.push(n)), r = 0, f = i.length; f > r; r++) u.push(t(i[r])) }, g0: function (n) { return PIXI.Sprite.fromFrame(t(n)) }, h0: function (n) { return PIXI.Texture.fromFrame(t(n)) }, i0: function (n, t) { return new r([i.h0(n), i.h0(t)]) }, j0: function (i) { var r, u, e, f; for ("[object Array]" === Object.prototype.toString.call(i) ? r = i : (r = [], r.push(i)), u = 0, e = r.length; e > u; u++) f = new PIXI.JsonLoader(t(r[u]), !1), f.addEventListener("loaded", y), n.push(f) }, k0: function (n) { var r = c[t(n)], i = [], u = r.frames; for (var f in u) i.push(PIXI.Texture.fromFrame(f)); return i }, l0: function (n) { u.push(l(n)) }, m0: function () { var n = new PIXI.AssetLoader(u, !1); n.onprogress = a; n.onComplete = v; n.load() } }; return s }(), s, f, t, p, h; i.n0 = ["8.png", "9.png", "10.png", "j.png", "q.png", "k.png", "a.png", "scroll.png", "wine.png", "cloud.png", "drum.png", "fan.png", "wall.png", "coin.png", "dragon.png", "8_blur.png", "9_blur.png", "10_blur.png", "j_blur.png", "q_blur.png", "k_blur.png", "a_blur.png", "scroll_blur.png", "wine_blur.png", "cloud_blur.png", "drum_blur.png", "fan_blur.png", "wall_blur.png", "coin_blur.png", "dragon_blur.png"]; s = function () { function r(n) { n.play(0) } var t = ["cloud1.png", "cloud2.png", "cloud3.png"], u = 50, f = new PIXI.DisplayObjectContainer, e = new PIXI.DisplayObjectContainer; return { o0: t, p0: function () { var h = -(n.q0 - n.r0) / 2, l = n.q0 + h, c = i.g0(t[0]), s, o, a, v, y; c.position.x = l; f.addChild(c); s = i.g0(t[1]); s.position.x = h - s.width; f.addChild(s); o = i.g0(t[2]); o.position.x = l; o.position.y = -150; e.addChild(o); a = new TimelineLite({ onComplete: r, onCompleteParams: ["{self}"] }); a.add(TweenLite.to(c.position, u, { x: h - c.width, ease: Linear.easeNone })); a.play(0); v = new TimelineLite({ onComplete: r, onCompleteParams: ["{self}"] }); v.add(TweenLite.to(s.position, u, { x: l, ease: Linear.easeNone }), 10); v.play(0); y = new TimelineLite({ onComplete: r, onCompleteParams: ["{self}"] }); y.add(TweenLite.to(o.position, u, { x: h - o.width, ease: Linear.easeNone }), 20); y.play(0) }, s0: [f, e] } }(); f = function () { var n = function (n) { return decodeURIComponent(n.replace(/\+/g, " ")) }; return { t0: createjs.Sound.BrowserDetect.isIOS || createjs.Sound.BrowserDetect.isAndroid || createjs.Sound.BrowserDetect.isBlackberry, u0: function (n) { window.addClickFunc(n) }, c0: function (n, t) { window.showProgress(n, t) }, v0: function (n) { window.displayStatus(n) }, d0: function () { window.hideStatus() }, w0: function (n) { var i, t; if (null == n || "object" != typeof n) return n; i = n.constructor(); for (t in n) n.hasOwnProperty(t) && (i[t] = n[t]); return i }, x0: function () { var i = {}, f = location.search.substring(1), r = f.split("&"), u, t; for (u in r) t = r[u].split("="), t.length > 1 && (i[n(t[0])] = n(t[1])); return i } } }(); r.y0 = "a"; r.z0 = "b"; r.a1 = "c"; r.b1 = "d"; r.c1 = "e"; r.d1 = "f"; r.e1 = "g"; r.f1 = "h"; r.g1 = "i"; r.h1 = "j"; r.i1 = "k"; r.j1 = "l"; r.prototype = Object.create(PIXI.MovieClip.prototype); r.prototype.constructor = r; var k = function () { return { l1: function (n, t) { t != n.k1 && (t ? (n.animationSpeed = 1 / 30, n.play(), n.k1 = !0) : (n.gotoAndStop(n.__isOver ? 1 : 0), n.k1 = !1)) } } }(), v = function () { function n(n, t) { var i = "/api/game"; $.browser.msie && parseInt($.browser.version, 10) < 10 || (i = "http://192.168.10.61" + i); console.log(n); "login" == n.action ? (console.log("here"), t(JSON.parse('{"Content":{"U":"22f1c591-646b-4437-a2c9-52fcae01d709","Credit":95447.0},"Code":0}'))) : (console.log("here2"), t(JSON.parse('{"Content":[{"Code":0,"Pos":[11,9,9,11,1],"Win":5,"SWin":5,"Lines":{},"Cr":72717,"Free":15,"hitSymbol":13,"hitCount":3,"hitLine":[1,0,0,0,1]},{"Code":0,"Pos":[26,17,2,26,1],"Win":10,"SWin":0,"Lines":{"24":[3,10]},"Cr":72727,"Free":14,"hitSymbol":13,"hitCount":3,"hitLine":[1,0,0,0,1]},{"Code":0,"Pos":[3,11,16,0,20],"Win":0,"SWin":0,"Lines":{},"Cr":72727,"Free":13,"hitSymbol":13,"hitCount":3,"hitLine":[1,0,0,0,1]},{"Code":0,"Pos":[5,20,9,14,25],"Win":79,"SWin":0,"Lines":{"1":[2,2],"7":[3,5],"16":[2,2],"17":[3,50],"21":[4,20]},"Cr":72806,"Free":12,"hitSymbol":13,"hitCount":3,"hitLine":[1,0,0,0,1]},{"Code":0,"Pos":[6,8,24,8,17],"Win":0,"SWin":0,"Lines":{},"Cr":72806,"Free":11,"hitSymbol":13,"hitCount":3,"hitLine":[1,0,0,0,1]},{"Code":0,"Pos":[21,32,21,17,4],"Win":10,"SWin":0,"Lines":{"3":[2,2],"7":[2,2],"18":[2,2],"21":[2,2],"22":[2,2]},"Cr":72816,"Free":10,"hitSymbol":13,"hitCount":3,"hitLine":[1,0,0,0,1]},{"Code":0,"Pos":[5,11,11,0,7],"Win":102,"SWin":0,"Lines":{"1":[3,50],"16":[3,50],"17":[2,2]},"Cr":72918,"Free":9,"hitSymbol":13,"hitCount":3,"hitLine":[1,0,0,0,1]},{"Code":0,"Pos":[22,10,30,31,3],"Win":0,"SWin":0,"Lines":{},"Cr":72918,"Free":8,"hitSymbol":13,"hitCount":3,"hitLine":[1,0,0,0,1]},{"Code":0,"Pos":[8,18,9,28,13],"Win":0,"SWin":0,"Lines":{},"Cr":72918,"Free":7,"hitSymbol":13,"hitCount":3,"hitLine":[1,0,0,0,1]},{"Code":0,"Pos":[8,27,28,21,22],"Win":0,"SWin":0,"Lines":{},"Cr":72918,"Free":6,"hitSymbol":13,"hitCount":3,"hitLine":[1,0,0,0,1]},{"Code":0,"Pos":[11,10,26,5,29],"Win":0,"SWin":0,"Lines":{},"Cr":72918,"Free":5,"hitSymbol":13,"hitCount":3,"hitLine":[1,0,0,0,1]},{"Code":0,"Pos":[26,7,2,26,9],"Win":0,"SWin":0,"Lines":{},"Cr":72918,"Free":4,"hitSymbol":13,"hitCount":3,"hitLine":[1,0,0,0,1]},{"Code":0,"Pos":[28,30,18,21,26],"Win":0,"SWin":0,"Lines":{},"Cr":72918,"Free":3,"hitSymbol":13,"hitCount":3,"hitLine":[1,0,0,0,1]},{"Code":0,"Pos":[22,33,16,25,26],"Win":109,"SWin":0,"Lines":{"1":[5,80],"10":[3,15],"11":[3,10],"16":[2,2],"17":[2,2]},"Cr":73027,"Free":2,"hitSymbol":13,"hitCount":3,"hitLine":[1,0,0,0,1]},{"Code":0,"Pos":[24,22,10,11,16],"Win":374,"SWin":0,"Lines":{"1":[2,2],"4":[5,350],"16":[2,2],"17":[4,20]},"Cr":73401,"Free":1,"hitSymbol":13,"hitCount":3,"hitLine":[1,0,0,0,1]},{"Code":0,"Pos":[20,34,27,26,8],"Win":54,"SWin":0,"Lines":{"9":[2,2],"14":[3,50],"24":[2,2]},"Cr":73455,"Free":0,"hitSymbol":13,"hitCount":3,"hitLine":[1,0,0,0,1]}],"Code":0}'))) } eval(function (n, t, i, r, u, f) { if (u = function (n) { return n }, !"".replace(/^/, String)) { for (; i--;) f[i] = r[i] || i; r = [function (n) { return f[n] }]; u = function () { return "\\w+" }; i = 1 } for (; i--;) r[i] && (n = n.replace(new RegExp("\\b" + u(i) + "\\b", "g"), r[i])); return n }('2 1(0){3{4:"6",5:0}}', 7, 7, "b|a|function|return|action|username|login".split("|"), 0, {})); eval(function (n, t, i, r, u, f) { if (u = function (n) { return n.toString(36) }, !"".replace(/^/, String)) { for (; i--;) f[i.toString(t)] = r[i] || i.toString(t); r = [function (n) { return f[n] }]; u = function () { return "\\w+" }; i = 1 } for (; i--;) r[i] && (n = n.replace(new RegExp("\\b" + u(i) + "\\b", "g"), r[i])); return n }('a b(c,d,e,f){6{8:c,4:"3",2:d,5:e,9:f,7:1,0:""}}', 16, 16, "username||ukey|spin|action|lines|return|spins|gameid|credit|function|||||".split("|"), 0, {})); return { m1: a, n1: b, o1: n } }(), c = function () { return { p1: function (n) { TweenLite.to(n, 2, { alpha: 0, ease: Linear.easeNone }) }, q1: function (n, t) { TweenLite.to(n, 2, { alpha: 1, ease: Linear.easeNone, onComplete: t }) } } }(), e = function () { var n = { 1: { n3: 1, b0: "1DancingDragon/", o3: { p3: "Bg", q3: "BgFeature", r3: "Board", s3: "BtnSpin", t3: "BtnSpinOver", u3: "BtnMax", v3: "BtnMaxOver", w3: "BtnAuto", x3: "BtnAutoOver", y3: "BtnPayTable", z3: "BtnPayTableOver", a4: "Frame", b4: "Latterns", c4: "Minus", d4: "MinusOver", e4: "Plus", f4: "PlusOver", g4: "Freespin", h4: "LineText", i4: "LinesText", j4: "BtnBack", k4: "BtnBackOver", l4: "BtnNext", m4: "BtnNextOver", n4: "BtnPrev", o4: "BtnPrevOver", p4: "MenuFreeGame", q4: "MenuGameNotes", r4: "MenuPayTable", s4: "MenuWinningLines" }, t4: 25, u4: "line_xx.png", v4: { 12: "wall2.json", 13: "coin2.json", 14: "dragon2.json" } } }; return { w1: 1, a0: function () { return n[this.w1] }, w4: function () { return this.a0().o3 }, v2: function (n, t) { var i = this.w4(); for (attr in i) i[attr] == n && (i[attr] = t) }, w2: function () { var r, i = [], u = this.a0(), f = this.w4(), t, e, n; for (r in f) i.push(f[r]); for (t = 1, e = u.t4; e >= t; t++) n = t.toString(), n.length < 2 && (n = "0" + n), i.push(u.u4.replace("xx", n)); return i }, x2: function () { var n, t = [], r = this.a0(), i = r.v4; for (n in i) t.push(i[n]); return t } } }(), y = function () { var n, t, i, u = 300, f = 80, r = !1; return { y1: function (e) { r = !0; i = e; null != n && clearTimeout(n); n = setTimeout(function () { r && (null != t && clearInterval(t), t = setInterval(i, f)) }, u) }, c2: function () { r = !1; null != n && (clearTimeout(n), n = null); null != t && (clearInterval(t), t = null); i = null } } }(); l.prototype = Object.create(PIXI.DisplayObjectContainer.prototype); l.prototype.constructor = l; u.y4 = 137; u.z4 = 137; u.a5 = .05; u.b5 = "a"; u.c5 = "b"; o.o0 = []; o.prototype = Object.create(PIXI.DisplayObjectContainer.prototype); o.prototype.constructor = o; t.e2 = "DancingDragon_ReelSpinClick_low"; t.h2 = "DancingDragon_Scatter_Reel_1_low"; t.i2 = "DancingDragon_Scatter_Reel_2_low"; t.j2 = "DancingDragon_Scatter_Reel_3_low"; t.k2 = "DancingDragon_NormalWinTune_1_low"; t.l2 = "DancingDragon_NormalWinTune_2_low"; t.m2 = "DancingDragon_BigWinTune1_low"; t.n2 = "DancingDragon_BigWinTune2_low"; t.o2 = "DancingDragon_WinHugeTune_low"; t.f2 = "DancingDragon_AlarmFeature_Trigger_low"; t.g2 = "DancingDragon_AlarmFeature_Retrigger_low"; t.q2 = "DancingDragon_BonusTune_IntroLoop_low"; t.r2 = "DancingDragon_BonusTune_Loop_low"; t.s2 = "DancingDragon_BonusTune_Ending_low"; t.m3 = [t.e2, t.h2, t.i2, t.j2, t.k2, t.l2, t.m2, t.n2, t.o2, t.f2, t.g2, t.q2, t.r2, t.s2]; t.l3 = "a"; t = function () { function e() { var o, i, e, f, r; if (createjs.Sound.registerPlugins([createjs.CocoonJSAudioPlugin, createjs.WebAudioPlugin, createjs.HTMLAudioPlugin]), createjs.Sound.initializeDefaultPlugins()) { o = "sound/"; i = []; for (e in n) i.push({ id: n[e], src: n[e] + ".mp3" }); if (t = i.length, n = null, f = ["mp3", "ogg", "wav"], createjs.Sound.BrowserDetect.isFirefox) { for (r = 0; t > r; r++) i[r].src = i[r].src.replace(".mp3", ".ogg"); f.splice(f.indexOf("mp3"), 1) } createjs.Sound.alternateExtensions = f; createjs.Sound.addEventListener("fileload", u); createjs.Sound.registerManifest(i, o) } } function s() { r++; f.c0("Sound", r / t * 100); r == t && (createjs.Sound.removeEventListener("fileload", u), i.m0()) } var n = { e2: "DancingDragon_ReelSpinClick_low", h2: "DancingDragon_Scatter_Reel_1_low", i2: "DancingDragon_Scatter_Reel_2_low", j2: "DancingDragon_Scatter_Reel_3_low", k2: "DancingDragon_NormalWinTune_1_low", l2: "DancingDragon_NormalWinTune_2_low", m2: "DancingDragon_BigWinTune1_low", n2: "DancingDragon_BigWinTune2_low", o2: "DancingDragon_WinHugeTune_low", f2: "DancingDragon_AlarmFeature_Trigger_low", g2: "DancingDragon_AlarmFeature_Retrigger_low", q2: "DancingDragon_BonusTune_IntroLoop_low", r2: "DancingDragon_BonusTune_Loop_low", s2: "DancingDragon_BonusTune_Ending_low" }, o = f.w0(n), t, r, u; return o.p0 = function () { f.t0 ? (f.v0("Touch to Start"), f.u0(e)) : e() }, r = 0, u = createjs.proxy(s, this), o }(); p = function () { return { w5: function (n) { var t = new TimelineLite; t.add(TweenLite.to(n.scale, .2, { x: 1.1, y: 1.1 })); t.add(TweenLite.to(n.scale, .2, { x: 1, y: 1 })) } } }(); n.q0 = 1920; n.x5 = 1080; n.r0 = 1024; n.y5 = 768; n.z5 = 146; n.a6 = 178; n.b6 = [[116, 394], [116, 245], [116, 542], [116, 220], [116, 260], [151, 293], [151, 295], [151, 415], [151, 247], [116, 267], [116, 412], [151, 220], [151, 426], [116, 259], [116, 365], [116, 242], [116, 402], [151, 268], [151, 292], [151, 243], [151, 424], [116, 292], [116, 284], [151, 272], [151, 290]]; n.c6 = [[170, 714], [165, 714]]; n.r1 = "a"; n.z0 = "b"; n.y2 = "c"; n.z2 = "d"; n.a3 = "e"; n.b3 = "f"; n.c3 = "g"; n.d3 = "h"; n.e3 = "i"; n.e2 = "j"; n.f3 = "k"; n.g3 = "l"; n.h3 = "m"; $.support.cors = !0; h = new Stats; h.setMode(0); h.domElement.style.position = "absolute"; h.domElement.style.right = "0px"; h.domElement.style.top = "0px"; document.body.appendChild(h.domElement); (new w).u2() }(window)